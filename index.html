<!Doctype: HTML w/ Processing>

<html>

  <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <title>Processing Demo</title>
      <script type="text/javascript" src="js/processing.js"></script>
  </head>
  
  <body>
    <h1>PUT YOUR TITLE HERE</h1>
    <p>ADD DESCRIPTION HERE</p>
    
    <script type="text/processing">
    
int cols, rows;
float noiseScale = 0.01;
float t = 0;

void setup() {
  size(1600, 900);
  cols = width;
  rows = height;
  noStroke();
  colorMode(HSB, 360, 100, 100);
  background(0);
}

void draw() {
  background(0);
  randomSeed(1); // stable layout
  t += 0.005;
  
  // glowing pixel field
  for (int i = 0; i < 4000; i++) {
    float x = random(width);
    float y = random(height);
    float n = noise(x * noiseScale, y * noiseScale, t);
    float br = pow(n, 3.0) * 360;
    float s = map(n, 0, 1, 40, 100);
    fill(br, s, 100, 80);
    
    float r = random(1);
    if (r < 0.7) ellipse(x, y, random(1, 3), random(1, 3)); // mycelium dots
    else if (r < 0.9) rect(x, y, 2, 2); // pixel specks
  }

  // mushroom clusters
  for (int i = 0; i < 40; i++) {
    drawMushroom(random(width), random(height * 0.5, height * 0.9), random(15, 40));
  }

  // leaf-like particles
  for (int i = 0; i < 150; i++) {
    float x = random(width);
    float y = random(height);
    pushMatrix();
    translate(x, y);
    rotate(noise(x * 0.02, y * 0.02) * TWO_PI);
    drawLeaf(random(8, 20));
    popMatrix();
  }

  // tree silhouettes (abstract)
  for (int i = 0; i < 8; i++) {
    float x = random(width);
    float h = random(80, 200);
    drawTree(x, height * 0.75, h);
  }
}

// ---------------------------------------------------------
// Organic elements
// ---------------------------------------------------------
void drawMushroom(float x, float y, float s) {
  pushMatrix();
  translate(x, y);
  fill(20 + random(40), 100, 100);
  ellipse(0, -s * 0.4, s, s * 0.4); // cap
  fill(40, 80, 80);
  rect(-s * 0.1, 0, s * 0.2, -s * 0.4); // stem

  // glow
  for (int i = 0; i < 20; i++) {
    float a = map(i, 0, 20, 20, 0);
    fill(20 + random(60), 80, 100, a);
    ellipse(0, -s * 0.4, s * 1.5, s * 0.6);
  }
  popMatrix();
}

void drawLeaf(float s) {
  fill(100 + random(60), 80, 100);
  beginShape();
  vertex(0, 0);
  bezierVertex(s * 0.5, -s, s, 0, 0, s);
  bezierVertex(-s, 0, -s * 0.5, -s, 0, 0);
  endShape(CLOSE);
}

void drawTree(float x, float y, float h) {
  pushMatrix();
  translate(x, y);
  stroke(30, 80, 70);
  strokeWeight(2);
  drawBranch(h);
  popMatrix();
}

void drawBranch(float len) {
  if (len < 8) return;
  line(0, 0, 0, -len);
  translate(0, -len);
  pushMatrix();
  rotate(radians(20 + random(-10, 10)));
  drawBranch(len * 0.7);
  popMatrix();
  pushMatrix();
  rotate(radians(-20 + random(-10, 10)));
  drawBranch(len * 0.7);
  popMatrix();
}
    </script>
    <canvas id="sketch" style="border: 1px solid black;"></canvas>
    
  </body>
  
</html>
